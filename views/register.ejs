

<%- include('./partials/header')  %>

<main class="container mx-auto px-6 py-24 min-h-[80vh]">
  <div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-lg">
    <h2 class="text-2xl font-bold text-gray-800 text-center mb-6">Create Your Account</h2>
    <div id="alert" class="alert alert-danger"></div>
    <div class="mb-6 text-center">
      <button id="vendorRegisterBtn" class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500">Vendor Register</button>
      <button id="userRegisterBtn" class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500">User Register</button>
    </div>
    
    <form id="vendorRegisterForm" class="hidden fade-in" action="/vendors/register" method="POST" onsubmit="return validateForm()">
        <h2 class="text-3xl font-bold text-gray-800 text-center mb-6">Vendor Registration 🎉</h2>
    
          
          <!-- Vendor Details Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Vendor Details 🧑‍🍳</h3>
            <div class="space-y-4">
              <div>
                <label for=" business_name" class="block text-gray-700">Bussines Name *</label>
                <input type="text" id=" business_name" name="business_name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="owner_name" class="block text-gray-700">Owner Name *</label>
                <input type="text" id="owner_name" name="owner_name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for=" gst_number" class="block text-gray-700">Gst Number </label>
                <input type="text" id=" gst_number" name="gst_number" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" >
              </div>
            </div>
          </div>
    
          <!-- Contact Information Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Contact Information 📞</h3>
            <div class="space-y-4">
              <div>
                <label for="phone" class="block text-gray-700">Phone Number *</label>
                <input type="tel" id="phone" name="phone" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required pattern="^\d{10}$" title="Phone Number must be 10 digits">
              </div>
              <div>
                <label for="email" class="block text-gray-700">Email Address *</label>
                <input type="email" id="email" name="email" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="password" class="block text-gray-700">Password *</label>
                <input type="password" id="password" name="password" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required minlength="6">
              </div>
            </div>
          </div>
    
          <!-- Address Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Address 🏠</h3>
            <div class="space-y-4">
              <div>
                <label for="address" class="block text-gray-700">Address *</label>
                <input type="text" id="address" name="address" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="city" class="block text-gray-700">City *</label>
                <input type="text" id="city" name="city" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="state" class="block text-gray-700">State *</label>
                <input type="text" id="state" name="state" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="pincode" class="block text-gray-700">Pincode *</label>
                <input type="text" id="pincode" name="pincode" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required pattern="^\d{6}$" title="Pincode must be 6 digits">
              </div>
              <!-- <div>
                <label for="longitude" class="block text-gray-700">Longitude *</label>
                <input type="number" id="longitude" name="longitude" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required step="any">
              </div>
              <div>
                <label for="latitude" class="block text-gray-700">Latitude *</label>
                <input type="number" id="latitude" name="latitude" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required step="any">
              </div> -->
              
            </div>
          </div>
    
          <!-- Business Details Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Business Details 💼</h3>
            <div class="space-y-4">
              <div>
                <label for="cuisine" class="block text-gray-700">Cuisine Type *</label>
                <input type="text" id="cuisine" name="cuisine" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="experience" class="block text-gray-700">Years of Experience </label>
                <input type="number" id="experience" name="experience" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"  min="0">
              </div>
              <div>
                <label for=" business_license" class="block text-gray-700">Bussines License Number </label>
                <input type="text" id=" business_license" name="business_license" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
              </div>
            </div>
          </div>
    
          <div class="text-center">
            <button type="submit" class="w-full px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-400">Register</button>
          </div>
    
    </form>

    <form id="userRegisterForm" class="hidden fade-in"  action="/users/register" method="POST">
        <h2 class="text-3xl font-bold text-gray-800 text-center mb-6">Create an Account 🎉</h2>
        
          
          <!-- Personal Details Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Personal Details 🧑</h3>
            <div class="space-y-4">
              <div>
                <label for="first_name" class="block text-gray-700">First Name *</label>
                <input type="text" id="first_name" name="first_name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required minlength="2">
              </div>
              <div>
                <label for="middle_name" class="block text-gray-700">Middle Name</label>
                <input type="text" id="middle_name" name="middle_name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
              </div>
              <div>
                <label for="last_name" class="block text-gray-700">Last Name *</label>
                <input type="text" id="last_name" name="last_name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required minlength="2">
              </div>
              <div>
                <label for="dob" class="block text-gray-700">Date of Birth *</label>
                <input type="date" id="dob" name="dob" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
            </div>
          </div>
    
          <!-- Contact Information Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Contact Information 📞</h3>
            <div class="space-y-4">
              <div>
                <label for="phone1" class="block text-gray-700">Phone Number 1 *</label>
                <input type="tel" id="phone1" name="phone1" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required pattern="^\d{10}$" title="Phone Number must be 10 digits">
              </div>
              <div>
                <label for="phone2" class="block text-gray-700">Phone Number 2</label>
                <input type="tel" id="phone2" name="phone2" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" pattern="^\d{10}$" title="Phone Number must be 10 digits">
              </div>
              <div>
                <label for="whatsapp" class="block text-gray-700">WhatsApp Number *</label>
                <input type="tel" id="whatsapp" name="whatsapp" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required pattern="^\d{10}$" title="WhatsApp Number must be 10 digits">
              </div>
              <div>
                <label for="email" class="block text-gray-700">Email Address *</label>
                <input type="email" id="email" name="email" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required pattern="^\S+@\S+\.\S+$" title="Please enter a valid email address">
              </div>
            </div>
          </div>
    
          <!-- Address Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Address 🏠</h3>
            <div class="space-y-4">
              <div>
                <label for="house_number" class="block text-gray-700">House Number *</label>
                <input type="text" id="house_number" name="house_number" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="street" class="block text-gray-700">Street *</label>
                <input type="text" id="street" name="street" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="area" class="block text-gray-700">Area *</label>
                <input type="text" id="area" name="area" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="colony" class="block text-gray-700">Colony *</label>
                <input type="text" id="colony" name="colony" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="landmark" class="block text-gray-700">Landmark</label>
                <input type="text" id="landmark" name="landmark" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
              </div>
              <div>
                <label for="city" class="block text-gray-700">City *</label>
                <input type="text" id="city" name="city" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="state" class="block text-gray-700">State *</label>
                <input type="text" id="state" name="state" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="pincode" class="block text-gray-700">Pincode *</label>
                <input type="text" id="pincode" name="pincode" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required pattern="^\d{6}$" title="Pincode must be 6 digits">
              </div>
              <div>
                <label for="country" class="block text-gray-700">Country *</label>
                <input type="text" id="country" name="country" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              
            </div>
          </div>
    
          <!-- Additional Information Section -->
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Additional Information 🌐</h3>
            <div class="space-y-4">
              <div>
                <label for="gender" class="block text-gray-700">Gender *</label>
                <select id="gender" name="gender" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
                  <option value="">Select Gender</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div>
                <label for="password" class="block text-gray-700">Password *</label>
                <input type="password" id="password" name="password" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required minlength="6">
              </div>
              <div>
                <label for="profile_pic" class="block text-gray-700">Profile Picture URL</label>
                <input type="url" id="profile_pic" name="profile_pic" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
              </div>
             
              <div>
                <label for="occupation" class="block text-gray-700">Occupation *</label>
                <input type="text" id="occupation" name="occupation" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" required>
              </div>
              <div>
                <label for="company" class="block text-gray-700">Company</label>
                <input type="text" id="company" name="company" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
              </div>
              <div>
                <label for="work_city" class="block text-gray-700">Work City</label>
                <input type="text" id="work_city" name="work_city" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
              </div>
            </div>
          </div>
    
          <div class="text-center">
            <button type="submit" class="w-full px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-400">Register</button>
          </div>
       
    </form>

    <div class="text-center">
      <p class="text-gray-600">If your have an account? <a href="/login" class="text-orange-500 hover:text-orange-400">Sign In</a></p>
    </div>
  </div>
</main>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const vendorRegisterBtn = document.getElementById('vendorRegisterBtn');
    const userRegisterBtn = document.getElementById('userRegisterBtn');
    const vendorRegisterForm = document.getElementById('vendorRegisterForm');
    const userRegisterForm = document.getElementById('userRegisterForm');
    const alertBox = document.getElementById('alert');

    vendorRegisterBtn.addEventListener('click', function() {
      vendorRegisterForm.classList.remove('hidden');
      userRegisterForm.classList.add('hidden');
      vendorRegisterForm.classList.add('fade-in');
      userRegisterForm.classList.remove('fade-in');
      alertBox.classList.remove('show');
    });

    userRegisterBtn.addEventListener('click', function() {
      userRegisterForm.classList.remove('hidden');
      vendorRegisterForm.classList.add('hidden');
      userRegisterForm.classList.add('fade-in');
      vendorRegisterForm.classList.remove('fade-in');
      alertBox.classList.remove('show');
    });

    function showAlert(message) {
      alertBox.textContent = message;
      alertBox.classList.add('show');
      setTimeout(() => {
        alertBox.classList.remove('show');
      }, 3000);
    }

    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    function validateForm(form) {
      const inputs = form.querySelectorAll('input[required]');
      for (let input of inputs) {
        if (!input.value.trim()) {
          showAlert('All fields are required.');
          return false;
        }
        if (input.type === 'email' && !validateEmail(input.value)) {
          showAlert('Invalid email address.');
          return false;
        }
      }
      return true;
    }

    vendorRegisterForm.addEventListener('submit', function(event) {
      if (!validateForm(vendorRegisterForm)) {
        event.preventDefault();
      }
    });

    userRegisterForm.addEventListener('submit', function(event) {
      if (!validateForm(userRegisterForm)) {
        event.preventDefault();
      }
    });
  });



  function validateForm() {
    const vendorName = document.getElementById(' business_name').value.trim();
    const ownerName = document.getElementById('owner_name').value.trim();
    const registrationNumber = document.getElementById(' gst_number').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const email = document.getElementById('email').value.trim();
    const address = document.getElementById('address').value.trim();
    const city = document.getElementById('city').value.trim();
    const state = document.getElementById('state').value.trim();
    const pincode = document.getElementById('pincode').value.trim();
    const cuisine = document.getElementById('cuisine').value.trim();
    const experience = document.getElementById('experience').value.trim();
    const foodLicense = document.getElementById(' business_license').value.trim();

    if (!vendorName || !ownerName || !registrationNumber || !phone || !email || !address || !city || !state || !pincode || !cuisine || !experience || !foodLicense) {
      alert('Please fill in all required fields.');
      return false;
    }

    // Add more specific validation (e.g., email format, phone number format) as needed

    return true;
  }

  document.addEventListener('DOMContentLoaded', function () {
    const menuToggle = document.querySelector('.menu-toggle');
    const navMenu = document.querySelector('.nav-menu');

    menuToggle.addEventListener('click', function () {
      navMenu.classList.toggle('hidden');
    });
  });
</script>


<%- include('./partials/footer')  %>
